<div class="container">
  <h1 class = "text-center m-3">Dashboard</h1>
  <% if @baker_orders.any? %>
    <!-- Baker Dashboard -->
    <h2 class = m-6>As a Baker <%= "(#{@baker_orders.count})" %></h2>
    <!-- headers -->
    <div class="row justify-content-between align-items-center text-center m-2">
      <div class="col-3">
        Pick up date
      </div>
      <div class="col-6">Order info</div>
      <div class="col-3">Status</div>
    </div>
    <!-- order cards -->
    <% @baker_orders.each do |order| %>
      <div class="row justify-content-between align-items-center shadow">
        <!-- pick-up date -->
        <div class="col-3 border-right">
          <p><%=order.pick_up.strftime("%a  %m/%d/%Y at %I:%M%p") %></p>
        </div>
        <!-- main info about the order (bakery, bread, quantity, price...) -->
        <div class="col-6 pr-2 d-flex justify-content-around align-items-center">
          <%= image_tag "https://source.unsplash.com/featured/?{ bakery, bread }", alt: "bread", width:200, height:200 %>
          <div class="div text-left">
            <p class="my-2"><%= "#{order.quantity} #{order.bread.name.capitalize}" %></p>
            <p class="my-2">Unit price: JPY <%= order.bread.price %></p>
            <p class="my-2">Total: JPY <%= order.quantity * order.bread.price %></p>
          </div>
        </div>
        <!-- command status -->
        <div class="col-3 border-left text-center">
          <div>
            <% case order.status %>
            <% when 0 %>
            <p>Declined</p>
            <% when 1 %>
            <p>Pending</p>
            <% when 2 %>
            <p>Accepted</p>
            <% when 3 %>
            <p>Delivered</p>
          <% end %>
        </div>
        <div class="d-flex justify-content-around">
          <%= link_to "accept", order_path(order, status: 2), method: 'PATCH', class: 'btn btn-success'  %>
          <%= link_to "deline", order_path(order, status: 0), method: 'PATCH', class: 'btn btn-danger'  %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
<!-- Customer Dashboard -->
<% if @customer_orders.any? %>
  <h2 class = m-6>As a Customer <%= "(#{@customer_orders.count})" %></h2>
  <!-- headers -->
  <div class="row justify-content-between align-items-center text-center m-2">
    <div class="col-3">
      Pick up date
    </div>
    <div class="col-6">Order info</div>
    <div class="col-3">Status</div>
  </div>
  <!-- order cards -->
  <% @customer_orders.each do |order| %>
    <div class="row justify-content-between align-items-center shadow">
      <!-- pick-up date -->
      <div class="col-3 border-right">
        <p><%=order.pick_up.strftime("%a  %m/%d/%Y at %I:%M%p") %></p>
      </div>
      <!-- main info about the order (bakery, bread, quantity, price...) -->
      <div class="col-6 pr-2 d-flex justify-content-around align-items-center">
        <%= image_tag "https://source.unsplash.com/featured/?{ bakery, bread }", alt: "bread", width:200, height:200 %>
        <div class="div text-left">
          <p class="my-2"><%= order.bread.bakery.name.capitalize %></p>
          <p class="my-2">‚òéÔ∏è: <%= order.bread.bakery.phone_number %></p>
          <p class="my-2">üè¢Ô∏è: <%= order.bread.bakery.address %></p>
          <p class="my-2"><%= "#{order.quantity} #{order.bread.name.capitalize}" %></p>
          <p class="my-2">Total: JPY <%= order.quantity * order.bread.price %></p>
        </div>
      </div>
      <!-- command status -->
      <div class="col-3 border-left text-center">
        <% case order.status %>
        <% when 0 %>
        <p>Declined</p>
        <% when 1 %>
        <p>Pending</p>
        <% when 2 %>
        <p>Accepted</p>
        <% when 3 %>
        <p>Delivered</p>
      <% end %>
    </div>
  </div>
<% end %>
<% end %>
</div>